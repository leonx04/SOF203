USE master
go

CREATE DATABASE THITHU1 
GO

USE THITHU1
go

CREATE TABLE NHACUNGCAP(
	MaNCC NVARCHAR(40) PRIMARY KEY,
	TenNCC NVARCHAR(50) NOT NULL,
	DiaChi NVARCHAR (50) NOT NULL,
	DienThoai NVARCHAR (15)  NOT NULL
);
GO
CREATE TABLE SANPHAM(
	MASP NVARCHAR(30) PRIMARY KEY,
	TENSP NVARCHAR(50) NOT NULL,
	DONVITINH NVARCHAR(40) NOT NULL,
	SOLUONG  INT  NOT NULL,
	GIABAN MONEY NOT NULL
);
GO 
CREATE TABLE CHITIETNCC(
	MASP NVARCHAR(30) NOT NULL,
	MaNCC NVARCHAR(40) NOT NULL,
	GIANHAP MONEY NOT NULL,
	SOLUONG INT NOT NULL,
	NGAYNHAP DATE NOT NULL,
	FOREIGN KEY (MaNCC) REFERENCES NHACUNGCAP(MaNCC),
	FOREIGN KEY (MASP) REFERENCES SANPHAM(MaSP)
);
GO
INSERT INTO NHACUNGCAP  (MaNCC,TenNCC,DiaChi,DienThoai)
VALUES 
	('NCC-01','NGUYEN VAN A','HA NOI','0123456789'),
	('NCC-02','NGUYEN VAN B','HA NAM','0123456789'),
	('NCC-03','NGUYEN VAN C','HA TINH','0123456789'),
	('NCC-04','NGUYEN VAN D','HA GIANG','0123456789'),
	('NCC-05','NGUYEN VAN E','HA TAY','0123456789');
GO
INSERT INTO SANPHAM (MASP,TENSP,DONVITINH,SOLUONG,GIABAN)
VALUES 
	('SP-01','AO DAI','KG',1,10000),
	('SP-02','AO KHOAC','KG',2,20000),
	('SP-03','AO PHONG','KG',3,30000),
	('SP-04','QUAN BO','KG',4,40000),
	('SP-05','QUAN TAY','KG',5,50000);
GO
INSERT INTO CHITIETNCC (MASP,MaNCC,GIANHAP,SOLUONG,NGAYNHAP)
VALUES
	('SP-01','NCC-01',1000,10,'2023-08-14'),
	('SP-02','NCC-02',2000,20,'2023-08-14'),
	('SP-03','NCC-03',3000,30,'2023-08-14'),
	('SP-04','NCC-04',4000,40,'2023-08-14'),
	('SP-05','NCC-05',5000,50,'2023-08-14');
GO

SELECT MaNCC,TenNCC FROM NHACUNGCAP
GO

SELECT * FROM SANPHAM
WHERE GIABAN >10000
GO


UPDATE SANPHAM
SET SOLUONG = 100
WHERE MASP = 'SP-01';